# Settings in the [build] context are global and are applied to
# all contexts unless otherwise overridden by more specific contexts.

[build]
# Directory to change to before starting a build.
# This is where we will look for package.json/.nvmrc/etc.
# If not set, defaults to the root directory.
# base = "project/"

# Directory that contains the deploy-ready HTML files and
# assets generated by the build. This is relative to the base
# directory if one has been set, or the root directory if
# a base has not been set. This sample publishes the directory
# located at the absolute path "root/project/build-output"

publish = "public/"

# Default build command.
command = "bash ./scripts/netlify_build.sh"

[build.environment]
GIT_LFS_ENABLED="true"
GIT_LFS_FETCH_INCLUDE="*.png, *.ico, *.pdf, *.jpg, *.jpeg, *.zip, *.xz, *.bz2, *.gz, *.tgz, *.deb, *.webp, *.odp, *.svg, *.gif, *.tif, *.tiff"
HUGO_VERSION="0.115.3"
GO_VERSION="1.20.6"
NODE_VERSION="lts/*"
TZ="America/Toronto"

[[plugins]]
package = "netlify-plugin-hugo-cache-resources"

[plugins.inputs]
debug = false

[[plugins]]
package = "netlify-plugin-html-validate"

[[plugins]]
# Installs the Lighthouse Build Plugin for all deploy contexts
package = "@netlify/plugin-lighthouse"

[plugins.inputs.thresholds]
performance = 0.9
accessibility = 1.0
best-practices = 1.0
seo = 0.8
pwa = 0.0

# [plugins.inputs.audits]
# output_path = "about/lighthouse.html"

[[plugins.inputs.audits]]
path = "index.html"

[[plugins.inputs.audits]]
path = "about/index.html"

# [[plugins.inputs.audits]]
# path = "about/fr/index.html"

# [plugins.inputs.audits.thresholds]
# seo = 0.8

[[plugins.inputs.audits]]
path = "about/accessibility/index.html"

# [plugins.inputs.audits.thresholds]
# seo = 0.8

# [[plugins.inputs.audits]]
# path = "about/fr/accessibility/index.html"

# Production context: all deploys from the Production branch
# set in your site’s Branches settings in the UI will inherit
# these settings. You can define environment variables
# here but we recommend using the Netlify UI for sensitive
# values to keep them out of your source repository.
# [context.production]
#  publish = "output/"
#  command = "make publish"
#  environment = { NODE_VERSION = "14.15.3" }

# Deploy Preview context: all deploys generated from
# a pull/merge request will inherit these settings.
# [context.deploy-preview]
#   publish = "dist/"

# Here is an example of how to define context-specific
# environment variables. To avoid committing sensitive
# values to public source repositories, set variables
# with the Netlify UI, CLI, or API instead.
# [context.deploy-preview.environment]
#   NOT_PRIVATE_ITEM = "not so secret"

# Dev context: environment variables set here
# are available for local development environments
# run using Netlify Dev. These values can be
# overwritten on branches that have a more specific
# branch context configured.
# [context.dev.environment]
#   NODE_ENV = "development"

# Specific branch context: all deploys from
# this specific branch will inherit these settings.
# [context.staging] # “staging” is a branch name
#   command = "echo 'staging'"
#   base = "staging"

# For contexts of branches with special characters,
# enclose the branch name with quotes.
# [context."feat/branch"]
#   command = "echo 'special branch'"
#   base = "branch"
